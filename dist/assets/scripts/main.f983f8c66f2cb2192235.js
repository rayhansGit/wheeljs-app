/*! For license information please see main.f983f8c66f2cb2192235.js.LICENSE.txt */
(()=>{"use strict";var t,e={290:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events()}var e,n;return e=t,(n=[{key:"events",value:function(){}},{key:"get_my_name",value:function(){}}])&&r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events()}var e,n;return e=t,(n=[{key:"events",value:function(){}},{key:"setLocalStorageData",value:function(t,e){""!=e&&localStorage.setItem(t,JSON.stringify(e))}},{key:"getLocalStorageData",value:function(t){return"undefined"!=t?JSON.parse(localStorage.getItem(t)):{}}},{key:"removeLocalStorageData",value:function(t){"undefined"!=t&&localStorage.removeItem(t)}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.popup=document.getElementById("popup"),this.feedback_form=document.getElementById("feedback-form"),this.user_id=document.getElementById("user_id"),this.user_id.value="",this.user_local_storage_key="spin_user_data",this.user_id.focus(),this.events(),this.app_local_storage=new a,this.user_id_exist=!1,this.user_info=this.app_local_storage.getLocalStorageData(this.user_local_storage_key),console.log(this.user_info),null!=this.user_info&&this.destoryPopUp()}var e,n;return e=t,(n=[{key:"events",value:function(){this.feedback_form.addEventListener("submit",this.handleForm.bind(this))}},{key:"handleForm",value:function(t){if(t.preventDefault(),""!=this.user_id.value.trim()){var e=[{user_id:this.user_id.value.trim()}];this.app_local_storage.setLocalStorageData(this.user_local_storage_key,e),this.destoryPopUp()}else alert("User id is required."),this.user_id.value="",this.user_id.focus()}},{key:"destoryPopUp",value:function(){this.popup.remove(),document.querySelector("body").removeAttribute("class")}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();var u=n(669),c=n.n(u);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function p(){p=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var c={};function f(){}function y(){}function d(){}var _={};s(_,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==e&&n.call(g,i)&&(_=g);var m=d.prototype=f.prototype=Object.create(_);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==h(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(p).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return y.prototype=d,s(m,"constructor",d),s(d,"constructor",y),y.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,a,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}function f(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){f(o,r,i,a,s,"next",t)}function s(t){f(o,r,i,a,s,"throw",t)}a(void 0)}))}}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const _=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root_url="http://localhost/wheeljs_api/",this.api_url=this.root_url+"wp-json/ggspin/v1/read/",this.api_create_url=this.root_url+"wp-json/ggspin/v1/create/",this.events()}var e,n,r,i;return e=t,n=[{key:"events",value:function(){}},{key:"read_data",value:(i=y(p().mark((function t(){var e;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c().get(this.api_url);case 3:e=t.sent,console.log(e.data),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return i.apply(this,arguments)})},{key:"create_data",value:(r=y(p().mark((function t(e,n,r,i){var o,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={game_id:e,user_id:n,user_res:r,bot_res:i,played_at:(new Date).toLocaleString().replace(",","")},console.log(o),console.table(o),t.prev=3,t.next=6,c().post(this.api_create_url,o);case 6:a=t.sent,console.log(a.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error(t.t0);case 13:case"end":return t.stop()}}),t,this,[[3,10]])}))),function(t,e,n,i){return r.apply(this,arguments)})}],n&&d(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.app_local_storage=new a,this.user_local_storage_key="spin_user_data",this.game_id=Math.random().toString(36).slice(2),this.user_id="",this.wheelPower=0,this.wheelSpinning=!1,this.player_one=!0,this.botPlay=!1,this.title_player_one="You",this.title_player_two="Player 2",this.playerPoint=0,this.botPoint=0,this.discount_player_one=0,this.discount_player_two=0,this.spin_duration=25,this.wheel_spins_count=1e3,this.spinTimoutInterval=3e3,this.theWheel=new Winwheel({numSegments:5,outerRadius:212,textFontSize:28,responsive:!0,segments:[{fillStyle:"#7de6ef",text:"30%"},{fillStyle:"#e7706f",text:"40%"},{fillStyle:"#89f26e",text:"50%"},{fillStyle:"#29a1dd",text:"60%"},{fillStyle:"#eae56f",text:"70%"}],animation:{direction:"clockwise",type:"spinOngoing",duration:this.spin_duration,spins:this.wheel_spins_count,callbackFinished:this.alertPrize.bind(this)}}),this.btn_start_spin=document.getElementById("startSpin"),this.btn_stop_spin=document.getElementById("stopSpin"),this.result_container=document.getElementById("result_container"),this.result_player_one=document.getElementById("result_player_one"),this.result_player_two=document.getElementById("result_player_two"),this.final_result=document.getElementById("final_result"),this.events()}var e,n;return e=t,(n=[{key:"events",value:function(){this.btn_start_spin.addEventListener("click",this.startSpin.bind(this)),this.btn_stop_spin.addEventListener("click",this.stopSpin.bind(this))}},{key:"startSpin",value:function(){this.wheelSpinning||(this.wheelSpinning=!0,this.theWheel.startAnimation(),this.botPlay||(this.result_container.style.display="block",this.result_player_one.innerHTML=this.title_player_one+" are playing!",this.result_player_one.classList.add("current-player"),this.btn_start_spin.style.display="none",this.btn_stop_spin.style.display="initial",this.btn_stop_spin.className="btnGlow"))}},{key:"stopSpin",value:function(){var t=this;this.theWheel.animation.spins=this.wheel_spins_count-500,this.theWheel.startAnimation(),setTimeout((function(){t.theWheel.stopAnimation(),t.wheelSpinning=!1}),this.spinTimoutInterval),this.botPlay||(this.btn_stop_spin.className="btnFlat",this.btn_stop_spin.style.display="none",this.result_player_one.innerHTML="Calculating score ...",setTimeout((function(){t.result_player_one.classList.remove("current-player"),t.result_player_two.classList.add("current-player"),t.botPlay=!0,t.playBot()}),this.spinTimoutInterval+3e3))}},{key:"playBot",value:function(){var t=this;this.botPlay?(this.btn_stop_spin.style.display="none",this.result_player_two.innerHTML=this.title_player_two+" is playing!",document.getElementById("stopSpin").innerHTML="Playing "+this.title_player_two,this.startSpin(),setTimeout((function(){t.stopSpin()}),this.spinTimoutInterval)):this.botPlay=!1}},{key:"alertPrize",value:function(t){this.botPlay?(this.botPoint=parseInt(t.text),this.result_player_two.innerHTML=this.title_player_two+" got <b>"+this.botPoint+"%</b>"):(this.playerPoint=parseInt(t.text),this.result_player_one.innerHTML=this.title_player_one+" got <b>"+this.playerPoint+"%</b>"),this.processResult(this.botPoint,this.playerPoint)}},{key:"processResult",value:function(t,e){if(0!=t&&0!=e){this.btn_start_spin.style.display="none",this.discount_player_one=e,this.discount_player_two=t,this.final_result.style.display="block",this.btn_stop_spin.style.display="none";var n=new _;this.user_info=this.app_local_storage.getLocalStorageData(this.user_local_storage_key),"undefined"!=this.user_info&&(this.user_id=this.user_info[0].user_id),n.create_data(this.game_id,this.user_id,t,e),t==e?(this.result_container.innerHTML="<div class=\"result_tie\">It's a Tie, Let's play again!</div>",setTimeout((function(){window.location.reload()}),2e3)):this.final_result.innerHTML=t>e?this.title_player_one+" Lose!<br><b>Final Discount:"+this.calculateDiscount()+"</b>":this.title_player_one+" Win!<br><b>Final Discount:"+this.calculateDiscount()+"</b>",this.result_player_one.classList.remove("current-player"),this.result_player_two.classList.remove("current-player"),t!=e&&this.app_local_storage.removeLocalStorageData(this.user_local_storage_key)}}},{key:"calculateDiscount",value:function(){return this.discount_player_one+(this.discount_player_one-this.discount_player_two)/2+"%"}},{key:"resetWheel",value:function(){this.theWheel.stopAnimation(!1),this.theWheel.rotationAngle=0,this.theWheel.draw(),this.wheelSpinning=!1}}])&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();(new i).get_my_name(),new g,new l}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,r),o.exports}r.m=e,t=[],r.O=(e,n,i,o)=>{if(!n){var a=1/0;for(c=0;c<t.length;c++){for(var[n,i,o]=t[c],s=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(r.O).every((t=>r.O[t](n[l])))?n.splice(l--,1):(s=!1,o<a&&(a=o));if(s){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,i,o]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var i,o,[a,s,l]=n,u=0;if(a.some((e=>0!==t[e]))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(l)var c=l(r)}for(e&&e(n);u<a.length;u++)o=a[u],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(c)},n=self.webpackChunkspinning=self.webpackChunkspinning||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var i=r.O(void 0,[669],(()=>r(290)));i=r.O(i)})();